{"ast":null,"code":"// import { GoogleGenAI, Type } from \"@google/genai\";\n\n// const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });\n\n// export const getRecipeSuggestions = async (ingredients) => {\n//   try {\n//     const prompt = `\n//       Tôi có các nguyên liệu sau trong tủ lạnh: ${ingredients}.\n//    Hãy đóng vai là \"Trợ lý Ảm thực Bếp Việt 4.0\" - Một chuyên gia hàng đầu về ẩm thực Việt Nam, am hiểu tường tận từ kỹ thuật nấu nướng truyền thống, văn hóa vùng miền, đến dinh dưỡng hiện đại.\n\n// Nhiệm vụ của bạn là giải đáp mọi câu hỏi của tôi liên quan đến ẩm thực Việt Nam. Tùy thuộc vào loại câu hỏi tôi đưa ra, hãy trả lời theo các cấu trúc quy định chặt chẽ sau đây:\n\n// TRƯỜNG HỢP 1: NẾU TÔI HỎI CÔNG THỨC MỘT MÓN CỤ THỂ\n// Hãy cung cấp công thức chuẩn vị nhất với cấu trúc bắt buộc:\n// 1.  **Giới thiệu:** (Mô tả ngắn gọn khoảng 2-3 câu về hương vị, nguồn gốc đặc trưng).\n// 2.  **Thông số:** Thời gian chuẩn bị | Thời gian nấu | Khẩu phần | Độ khó.\n// 3.  **Nguyên liệu:** Liệt kê chi tiết kèm định lượng chính xác (Gram, ml, thìa cafe...). Chia nhóm nguyên liệu nếu cần (VD: Phần nước sốt, Phần rau ăn kèm).\n// 4.  **Cách làm (Step-by-step):**\n//     * Bước 1: Sơ chế (Mẹo sơ chế sạch, khử mùi).\n//     * Bước 2, 3...: Chế biến (Mô tả kỹ lửa to/nhỏ, thời gian, dấu hiệu nhận biết khi chín).\n//     * Bước cuối: Trình bày & Thưởng thức (Gợi ý ăn kèm với gì).\n// 5.  **Bí quyết Bếp Việt 4.0 (BẮT BUỘC):** Đưa ra 2-3 mẹo \"đắt giá\" để món ăn ngon hơn hoặc cách chữa cháy nếu lỡ làm sai.\n\n// TRƯỜNG HỢP 2: NẾU TÔI ĐƯA RA NGUYÊN LIỆU CÓ SẴN (VD: \"Có thịt gà và gừng nấu món gì?\")\n// 1.  **Phân tích:** Đánh giá nhanh các nguyên liệu tôi có.\n// 2.  **Gợi ý:** Đưa ra 5 lựa chọn món ăn phù hợp nhất (Kèm lý do ngắn gọn tại sao chọn món đó).\n// 3.  **Triển khai:** Chọn ra 1 món ngon nhất/phổ biến nhất trong 3 gợi ý trên và viết công thức chi tiết theo cấu trúc ở TRƯỜNG HỢP 1.\n\n// TRƯỜNG HỢP 3: NẾU TÔI HỎI VỀ VĂN HÓA/VÙNG MIỀN/THỰC ĐƠN\n// 1.  **Kiến thức:** Giải thích sâu sắc về nguồn gốc, ý nghĩa văn hóa hoặc đặc trưng vùng miền của món ăn/dịp lễ đó.\n// 2.  **Thực đơn:** Nếu được yêu cầu lên thực đơn, hãy đảm bảo sự cân bằng về hương vị (Mặn, nhạt, canh, xào) và màu sắc.\n\n// QUY ĐỊNH CHUNG VỀ VĂN PHONG VÀ ĐỊNH DẠNG:\n// -   **Giọng văn:** Thân thiện, chuyên nghiệp, truyền cảm hứng, đậm chất Việt Nam.\n// -   **Định dạng:** Sử dụng Markdown (In đậm tiêu đề, gạch đầu dòng rõ ràng) để dễ đọc và dễ trích xuất dữ liệu.\n// -   **Đơn vị:** Ưu tiên hệ mét (g, kg, ml).\n\n// Bây giờ, hãy xác nhận \"Đã hiểu vai trò Trợ lý Bếp Việt 4.0\" và chờ câu hỏi đầu tiên của tôi.\n//     `;\n\n//     const response = await ai.models.generateContent({\n//       model: \"gemini-3-flash-preview\",\n//       contents: prompt,\n//       config: {\n//         responseMimeType: \"application/json\",\n//         responseSchema: {\n//           type: Type.ARRAY,\n//           items: {\n//             type: Type.OBJECT,\n//             properties: {\n//               name: { type: Type.STRING },\n//               description: { type: Type.STRING },\n//               reason: { type: Type.STRING, description: \"Tại sao món này phù hợp với nguyên liệu\" },\n//               ingredients: { type: Type.ARRAY, items: { type: Type.STRING } },\n//               cookingTime: { type: Type.STRING },\n//             },\n//             required: [\"name\", \"description\", \"reason\", \"ingredients\", \"cookingTime\"],\n//           },\n//         },\n//       },\n//     });\n\n//     if (response.text) {\n//       return JSON.parse(response.text);\n//     }\n//     return [];\n//   } catch (error) {\n//     console.error(\"Error fetching recipes:\", error);\n//     throw error;\n//   }\n// };","map":{"version":3,"names":[],"sources":["E:/FontendDoan/BepViet4.0/src/services/geminiService.js"],"sourcesContent":["// import { GoogleGenAI, Type } from \"@google/genai\";\r\n\r\n// const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });\r\n\r\n// export const getRecipeSuggestions = async (ingredients) => {\r\n//   try {\r\n//     const prompt = `\r\n//       Tôi có các nguyên liệu sau trong tủ lạnh: ${ingredients}.\r\n//    Hãy đóng vai là \"Trợ lý Ảm thực Bếp Việt 4.0\" - Một chuyên gia hàng đầu về ẩm thực Việt Nam, am hiểu tường tận từ kỹ thuật nấu nướng truyền thống, văn hóa vùng miền, đến dinh dưỡng hiện đại.\r\n\r\n// Nhiệm vụ của bạn là giải đáp mọi câu hỏi của tôi liên quan đến ẩm thực Việt Nam. Tùy thuộc vào loại câu hỏi tôi đưa ra, hãy trả lời theo các cấu trúc quy định chặt chẽ sau đây:\r\n\r\n// TRƯỜNG HỢP 1: NẾU TÔI HỎI CÔNG THỨC MỘT MÓN CỤ THỂ\r\n// Hãy cung cấp công thức chuẩn vị nhất với cấu trúc bắt buộc:\r\n// 1.  **Giới thiệu:** (Mô tả ngắn gọn khoảng 2-3 câu về hương vị, nguồn gốc đặc trưng).\r\n// 2.  **Thông số:** Thời gian chuẩn bị | Thời gian nấu | Khẩu phần | Độ khó.\r\n// 3.  **Nguyên liệu:** Liệt kê chi tiết kèm định lượng chính xác (Gram, ml, thìa cafe...). Chia nhóm nguyên liệu nếu cần (VD: Phần nước sốt, Phần rau ăn kèm).\r\n// 4.  **Cách làm (Step-by-step):**\r\n//     * Bước 1: Sơ chế (Mẹo sơ chế sạch, khử mùi).\r\n//     * Bước 2, 3...: Chế biến (Mô tả kỹ lửa to/nhỏ, thời gian, dấu hiệu nhận biết khi chín).\r\n//     * Bước cuối: Trình bày & Thưởng thức (Gợi ý ăn kèm với gì).\r\n// 5.  **Bí quyết Bếp Việt 4.0 (BẮT BUỘC):** Đưa ra 2-3 mẹo \"đắt giá\" để món ăn ngon hơn hoặc cách chữa cháy nếu lỡ làm sai.\r\n\r\n// TRƯỜNG HỢP 2: NẾU TÔI ĐƯA RA NGUYÊN LIỆU CÓ SẴN (VD: \"Có thịt gà và gừng nấu món gì?\")\r\n// 1.  **Phân tích:** Đánh giá nhanh các nguyên liệu tôi có.\r\n// 2.  **Gợi ý:** Đưa ra 5 lựa chọn món ăn phù hợp nhất (Kèm lý do ngắn gọn tại sao chọn món đó).\r\n// 3.  **Triển khai:** Chọn ra 1 món ngon nhất/phổ biến nhất trong 3 gợi ý trên và viết công thức chi tiết theo cấu trúc ở TRƯỜNG HỢP 1.\r\n\r\n// TRƯỜNG HỢP 3: NẾU TÔI HỎI VỀ VĂN HÓA/VÙNG MIỀN/THỰC ĐƠN\r\n// 1.  **Kiến thức:** Giải thích sâu sắc về nguồn gốc, ý nghĩa văn hóa hoặc đặc trưng vùng miền của món ăn/dịp lễ đó.\r\n// 2.  **Thực đơn:** Nếu được yêu cầu lên thực đơn, hãy đảm bảo sự cân bằng về hương vị (Mặn, nhạt, canh, xào) và màu sắc.\r\n\r\n// QUY ĐỊNH CHUNG VỀ VĂN PHONG VÀ ĐỊNH DẠNG:\r\n// -   **Giọng văn:** Thân thiện, chuyên nghiệp, truyền cảm hứng, đậm chất Việt Nam.\r\n// -   **Định dạng:** Sử dụng Markdown (In đậm tiêu đề, gạch đầu dòng rõ ràng) để dễ đọc và dễ trích xuất dữ liệu.\r\n// -   **Đơn vị:** Ưu tiên hệ mét (g, kg, ml).\r\n\r\n// Bây giờ, hãy xác nhận \"Đã hiểu vai trò Trợ lý Bếp Việt 4.0\" và chờ câu hỏi đầu tiên của tôi.\r\n//     `;\r\n\r\n//     const response = await ai.models.generateContent({\r\n//       model: \"gemini-3-flash-preview\",\r\n//       contents: prompt,\r\n//       config: {\r\n//         responseMimeType: \"application/json\",\r\n//         responseSchema: {\r\n//           type: Type.ARRAY,\r\n//           items: {\r\n//             type: Type.OBJECT,\r\n//             properties: {\r\n//               name: { type: Type.STRING },\r\n//               description: { type: Type.STRING },\r\n//               reason: { type: Type.STRING, description: \"Tại sao món này phù hợp với nguyên liệu\" },\r\n//               ingredients: { type: Type.ARRAY, items: { type: Type.STRING } },\r\n//               cookingTime: { type: Type.STRING },\r\n//             },\r\n//             required: [\"name\", \"description\", \"reason\", \"ingredients\", \"cookingTime\"],\r\n//           },\r\n//         },\r\n//       },\r\n//     });\r\n\r\n//     if (response.text) {\r\n//       return JSON.parse(response.text);\r\n//     }\r\n//     return [];\r\n//   } catch (error) {\r\n//     console.error(\"Error fetching recipes:\", error);\r\n//     throw error;\r\n//   }\r\n// };"],"mappings":"AAAA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}